# Assignment 3 Part 2a - Project Summary


This submission contains a complete implementation of Part 2a: Concurrent TA Marking System.

---


### 1. Extract Files
All files are in the outputs directory.

### 2. Build and Run
```bash
# Option A: Using Makefile (Recommended)
make all
make test_files
make run2         # Run with 2 TAs

# Option B: Manual
./generate_test_files.sh
g++ -o ta_marking ta_marking.cpp
./ta_marking 2
```

### 3. Test Different Configurations
```bash
./ta_marking 2    # 2 TAs
./ta_marking 3    # 3 TAs
./ta_marking 4    # 4 TAs
```

---

## Files Included

### Source Code
- **ta_marking.cpp** - Main implementation
### Build Tools
- **Makefile** - Build automation
- **generate_test_files.sh** - Test data generator
- **test_demo.sh** - Automated testing

### Documentation
- **README_Part2a.md** - User guide
- **SOLUTION_DOCUMENTATION.txt** - Technical documentation
- **PROJECT_SUMMARY.txt** - This file

---

## Features Implemented

✅ **Core Requirements**
- [x] Minimum 2 TAs (configurable)
- [x] Concurrent processes using fork()
- [x] Shared memory for rubric
- [x] Shared memory for exam data
- [x] All TAs can read rubric concurrently
- [x] Only one TA modifies rubric at a time (intended, not enforced)
- [x] Random delays (0.5-1.0s review, 1.0-2.0s marking)
- [x] Progress display
- [x] Automatic exam loading
- [x] Termination at student 9999

✅ **Additional Features**
- [x] Command-line argument for TA count
- [x] Detailed progress messages
- [x] Rubric modification tracking
- [x] Clean error handling
- [x] Proper memory cleanup
- [x] Makefile for easy building
- [x] Test file generator
- [x] Comprehensive documentation

---

## Sample Output

```
Starting TA marking system with 3 TAs
Loaded rubric into shared memory
Loaded first exam (student 1)
[TA 1] Started working
[TA 1] Reviewing rubric for exam 1
[TA 2] Started working
[TA 2] Reviewing rubric for exam 1
[TA 3] Started working
[TA 3] Reviewing rubric for exam 1
[TA 1] Correcting rubric for exercise 1
[TA 1] Changing exercise 1 rubric from 'A' to 'B'
[TA 3] Marking student 1, question 1
[TA 2] Marking student 1, question 2
[TA 1] Marking student 1, question 3
[TA 3] Finished marking student 1, question 1
...
```

---

## Race Conditions (Expected in Part 2a)

The following race conditions are **intentionally not fixed** in Part 2a:

1. **Rubric Modification**: Multiple TAs may modify same rubric entry
2. **Question Marking**: Multiple TAs may mark same question
3. **Exam Loading**: Multiple TAs may try to load next exam

These demonstrate the need for synchronization and will be addressed in Part 2b using semaphores.

---

## Testing Performed

### Test 1: Basic Functionality
- Compiles without errors
- Accepts command-line arguments
- Creates shared memory
- Forks multiple processes
- TAs work concurrently

### Test 2: Rubric Operations
- Loads rubric from file
- TAs review rubric with delays
- TAs modify rubric randomly (~30%)
- Modifications saved to file
- Changes visible to all TAs

### Test 3: Exam Marking
- TAs mark questions with delays
- Progress displayed correctly
- All questions eventually marked
- Next exam loads automatically
- Terminates at student 9999

### Test 4: Scalability
- Works with 2 TAs
- Works with 3 TAs
- Works with 4+ TAs
- No crashes or deadlocks

---

## Known Limitations (By Design)

1. **No Synchronization**: Race conditions are expected (Part 2a requirement)
2. **Fixed Exercise Count**: 5 exercises per exam (hardcoded)
3. **Simple Marking**: No actual grade calculation
4. **Sequential Exam Loading**: One exam at a time in shared memory

These are intentional design choices for Part 2a. Part 2b will add synchronization.

---

## Architecture Highlights

### Process Model
```
Main Process
├─> Shared Memory Setup
├─> Initial Data Loading
└─> Fork N TAs
     └─> Each TA independently:
         - Reviews rubric
         - Marks questions
         - Loads next exam
```

### Data Flow
```
Rubric File <─┬─> Shared Memory (Rubric) <─┬─> TA 1
              │                             ├─> TA 2
Exam Files <──┴─> Shared Memory (Exam) <───┴─> TA N
```

### Synchronization (Part 2a)
- None (intentionally)
- Race conditions expected
- To be added in Part 2b

---

## Performance Characteristics

### Timing
- **Review per exercise**: 0.5-1.0 seconds (random)
- **Marking per question**: 1.0-2.0 seconds (random)
- **Rubric modification**: ~30% probability
- **Total exam time**: ~12-20 seconds per exam (with multiple TAs)

### Scalability
- **2 TAs**: Each marks ~2-3 questions per exam
- **4 TAs**: Each marks ~1-2 questions per exam
- **More TAs**: Faster throughput but more race conditions

---

## Code Quality

### Structure
- Well-organized functions
- Clear separation of concerns
- Meaningful variable names
- Consistent formatting

### Documentation
- Comprehensive comments
- Function documentation
- Usage examples
- Design rationale

### Error Handling
- File operation checks
- Shared memory validation
- Process creation verification
- Graceful cleanup on exit

---

## Next Work (Part 2b)

### Planned Additions
1. **Reader-Writer Semaphore** for rubric access
2. **Mutex Semaphore** for question marking
3. **Mutex Semaphore** for exam transitions
4. **Statistics Tracking** (bonus)

### Expected Improvements
- No race conditions
- Guaranteed consistency
- Better resource utilization
- Performance metrics

---

## Conclusion

This implementation successfully demonstrates:
- Unix/Linux process management
- Shared memory inter-process communication
- Concurrent programming fundamentals
- Race condition examples

The code is ready for enhancement with semaphores in Part 2b while maintaining clean, understandable structure.

---

Date: December 2025
Assignment: SYSC4001 Assignment 3 Part 2a
